@model Hablame.Services.Viewmodels.ConversationViewModel

<div class="container-fluid">
    <div class="row content">
        <div class="col-sm-3 sidenav">
            <h3>Conversation Details</h3>
            <div class="well">
                <h1><span class="glyphicon glyphicon-user"></span></h1>
                <h4><strong>@Model.Student.Forename @Model.Student.Surname</strong></h4>
                <h5><strong>Teacher:</strong> @Model.Teacher.Forename @Model.Teacher.Surname</h5>
                <h5><strong>Language:</strong></h5>
                <h5><strong>Start Time:</strong>@Model.StartDateTime.ToShortTimeString()</h5>
                <h5><strong>Current duration:</strong> @Model.DurationMinutes minutes</h5>
                <button type="submit" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-pause"></span></button>
                <button type="submit" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-play"></span></button>
                <button type="submit" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-stop"></span></button>
                RUNNING
            </div>

            <div class="panel panel-primary">
                <div class="panel-heading">Instructions</div>
                <div class="panel-body">
                    <p>Whenever your student makes a mistake, record it using the text boxes to the right.</p>
                    <p>You can categorise the mistake using the buttons to the right of the text boxes.</p>
                    <p>If your student repeats a mistake, use the +1 button to add it again. You will see that the Count for that mistakes will have been incremented.</p>
                </div>
            </div>

        </div>

        <div class="col-sm-9">

            <div class="row content">
                <div class="col-lg-12">
                    <h2>Enter new mistake</h2>
                    <form method="post">
                        <input type="hidden" name="conversationId" id="conversationId" value="@Model.ConversationId" />
                        <div class="row">
                            <div class="col-lg-6">
                                <!-- Text Input -->
                                <div class="form-group">
                                    <label for="inputlg">@Model.Student.Forename said:</label>
                                    <input class="form-control input-lg" id="spokenValue" name="spokenValue" type="text">
                                </div>
                                <div class="form-group">
                                    <label for="inputlg">but should have said:</label>
                                    <input class="form-control input-lg" id="correctValue" name="correctValue" type="text">
                                </div>
                                <button type="submit" class="btn btn-lg btn-primary">SUBMIT</button>
                            </div>
                            <div class="col-lg-6">
                                <!-- Checkboxes -->
                                <div class="btn-group" data-toggle="buttons">
                                    <label class="btn btn-info btn-lg active">
                                        <input type="checkbox" autocomplete="off"> <input id="IsSuperfluousAuxVerb" name="IsSuperfluousAuxVerb" type="checkbox" value=""><span data-toggle="tooltip" title="e.g. Wrong: I am very much like football. Corrected: I very much like football.">Unnecessary auxiliary verb</span>
                                    </label>
                                    <label class="btn btn-info btn-lg">
                                        <input type="checkbox" autocomplete="off"> <input id="IsMissingAuxVerb" name="IsMissingAuxVerb" type="checkbox" value=""><span data-toggle="tooltip" title="e.g. ">Missing auxiliary verb</span>
                                    </label>
                                    <label class="btn btn-info btn-lg">
                                        <input type="checkbox" autocomplete="off"> Wrong verb form
                                    </label>
                                    <label class="btn btn-info btn-lg">
                                        <input type="checkbox" autocomplete="off"> Wrong verb pattern
                                    </label>
                                    <label class="btn btn-info btn-lg">
                                        <input type="checkbox" autocomplete="off"> Wrong phrasal verb
                                    </label>
                                    <label class="btn btn-info btn-lg">
                                        <input type="checkbox" autocomplete="off"> Wrong subject-verb agreement
                                    </label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <br />

            <div class="row content">

                <div class="col-lg-12">
                    
                        @{
                            if (Model.MistakeAdded)
                            {
                                <div class="well">
                                    <div class="alert alert-success">
                                        <h3><strong>Mistake added!</strong></h3> @Model.Student.Forename said <strong>@Model.NewMistake.SpokenValue</strong> but should have said <strong>@Model.NewMistake.CorrectValue</strong>.
                                    </div>
                                </div>
                                    }
                                    if (@Model.MistakeDeleted)
                                    {
                                    <h1>TODO</h1>
                                    }
                                    if (@Model.MistakeRepeated)
                                    {
                                    <h1>TODO</h1>
                                    }
                                    }
                </div>
            </div>

            <div class="row content">
                <div class="col-lg-12">
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#home">Latest (this conversation)</a></li>
                        <li><a data-toggle="tab" href="#menu1">Top (this conversation)</a></li>
                        <li><a data-toggle="tab" href="#menu2">@Model.Student.Forename's Top Mistakes</a></li>
                        <li><a data-toggle="tab" href="#menu3">Top English mistakes</a></li>
                    </ul>

                    <div class="tab-content">
                        <div id="home" class="tab-pane fade in active">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <th>Spoken</th>
                                        <th>Correct</th>
                                        <th>Occurences</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        foreach (var mistake in Model.LatestSessionMistakes)
                                        {
                                            <tr>
                                                <td><span style="color:red" class="glyphicon glyphicon-remove"></span> @mistake.SpokenValue</td>
                                                <td><span style="color:darkseagreen" class="glyphicon glyphicon-ok"></span> @mistake.CorrectValue</td>
                                                <td>@mistake.Count</td>
                                                <td>
                                                    <button type="submit" class="btn btn-sm btn-primary">+1</button>
                                                    <button type="submit" class="btn btn-sm btn-primary">Similar</button>
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div id="menu1" class="tab-pane fade">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <th>Spoken</th>
                                        <th>Correct</th>
                                        <th>Occurences</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        foreach (var mistake in Model.MostCommonSessionMistakes)
                                        {
                                            <tr>
                                                <td><span style="color:red" class="glyphicon glyphicon-remove"></span> @mistake.SpokenValue</td>
                                                <td><span style="color:darkseagreen" class="glyphicon glyphicon-ok"></span> @mistake.CorrectValue</td>
                                                <td>@mistake.Count</td>
                                                <td>
                                                    <button type="submit" class="btn btn-sm btn-primary">+1</button>
                                                    <button type="submit" class="btn btn-sm btn-primary">Similar</button>
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div id="menu2" class="tab-pane fade">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <th>Spoken</th>
                                        <th>Correct</th>
                                        <th>Occurences</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        foreach (var mistake in Model.MostCommonMistakesForStudent)
                                        {
                                            <tr>
                                                <td><span style="color:red" class="glyphicon glyphicon-remove"></span> @mistake.SpokenValue</td>
                                                <td><span style="color:darkseagreen" class="glyphicon glyphicon-ok"></span> @mistake.CorrectValue</td>
                                                <td>@mistake.Count</td>
                                                <td>
                                                    <button type="submit" class="btn btn-sm btn-primary">+1</button>
                                                    <button type="submit" class="btn btn-sm btn-primary">Similar</button>
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div id="menu3" class="tab-pane fade">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <th>Spoken</th>
                                        <th>Correct</th>
                                        <th>Occurences</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        foreach (var mistake in Model.TopGlobalMistakesForLanguage)
                                        {
                                            <tr>
                                                <td><span style="color:red" class="glyphicon glyphicon-remove"></span> @mistake.SpokenValue</td>
                                                <td><span style="color:darkseagreen" class="glyphicon glyphicon-ok"></span> @mistake.CorrectValue</td>
                                                <td>@mistake.Count</td>
                                                <td>
                                                    <button type="submit" class="btn btn-sm btn-primary">+1</button>
                                                    <button type="submit" class="btn btn-sm btn-primary">Similar</button>
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<div class="container-fluid">

</div>

<script>
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});
</script>


